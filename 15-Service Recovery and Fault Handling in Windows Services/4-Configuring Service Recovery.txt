 3. Configuring Service Recovery
3. Configuring Service Recovery
You can configure service recovery settings using:

Services Management Console (services.msc)
Command-Line Tools (SC Command)
Programmatically using C#



A. Using Services Management Console
Open Run (Win + R) and type services.msc.
Right-click the service and select Properties.
Go to the Recovery tab.
Configure the recovery actions for:
First failure
Second failure
Subsequent failures
Set the Restart service after delay (e.g., 60 seconds).
Click Apply and OK.
B. Using SC Command (Command-Line)
You can configure recovery actions using the sc command.

Syntax:
sc failure <ServiceName> reset= <TimeInSeconds> actions= <Action1>/<Delay1>/<Action2>/<Delay2>/<Action3>/<Delay3>

Actions:
restart: Restart the service.
run: Run a program.
reboot: Reboot the system.
"": No action.
Example:
Restart a service on first and second failure, and take no action for subsequent failures:

sc failure MyCustomService reset= 86400 actions= restart/60000/restart/60000/""/0

Explanation:
reset= 86400: Reset failure count after 1 day.
actions= restart/60000: Restart service after a 60-second delay.
C. Programmatically Configuring Recovery Actions
You can use PowerShell or WMI to programmatically set service recovery actions.

PowerShell Example:

$serviceName = "MyCustomService"

# Set recovery actions
sc.exe failure $serviceName reset= 86400 actions= restart/60000/restart/60000/""/0

